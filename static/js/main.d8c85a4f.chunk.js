(this.webpackJsonptracker=this.webpackJsonptracker||[]).push([[0],{89:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n.n(a),i=n(26),c=n(16),o=n(49),s="ADD_TRACKER",l="DELETE_TRACKER",d="SAVE_TIME_TRACKER",u="TOGGLE_TRACKER",j=n(127),p=n(52),b=n(122),m=n(128),f=n(118),x=n(50),O=n(0),g=n(129),h=n(123),k=n(51),v=n(63),T=n.n(v),y=n(6),w=Object(f.a)((function(e){return{input:Object(c.a)({borderRadius:"45px",fontSize:"20px",height:"55px",marginBottom:"30px"},e.breakpoints.down("xs"),{borderRadius:"35px",fontSize:"17px",height:"45px",marginBottom:"25px"}),icon:Object(c.a)({height:"55px",width:"55px",color:k.a[500]},e.breakpoints.down("xs"),{height:"45px",width:"45px"}),button:{position:"relative",left:"15px"}}})),E=function(e){var t=e.addTracker,n=Object(O.useState)(""),a=Object(x.a)(n,2),r=a[0],i=a[1],c=w();return Object(y.jsx)("form",{onSubmit:function(e){e.preventDefault(),t(r),i("")},noValidate:!0,autoComplete:"off",children:Object(y.jsx)(g.a,{id:"outlined-basic",fullWidth:!0,variant:"outlined",placeholder:"Enter tracker name",value:r,onChange:function(e){i(e.target.value)},InputProps:{endAdornment:Object(y.jsx)(h.a,{size:"small",type:"submit",className:c.button,children:Object(y.jsx)(T.a,{fontSize:"large",className:c.icon})}),className:c.input}})})},S=n(21),C=n(67),z=n(124),I=n(125),N=n(126),R=n(64),A=n.n(R),D=n(65),_=n.n(D),K=n(66),L=n.n(K),M=Object(f.a)((function(e){return{listItem:Object(c.a)({display:"flex",padding:"5px 10px"},e.breakpoints.down("xs"),{padding:"5px",fontSize:"15px"}),listItemContainer:Object(c.a)({flexGrow:0,flexShrink:0,justifyContent:"center",minWidth:0,fontSize:"18px"},e.breakpoints.down("xs"),{fontSize:"12px"}),listItemText:{overflow:"hidden",textOverflow:"ellipsis",padding:"0 10px 0 0"}}})),W=function(e){var t,n=e.settings,a=e.remove,r=e.toggle,i=e.saveTime,c=n.name,o=n.id,s=n.isTicking,l=n.time,d=Object(O.useState)(l),u=Object(x.a)(d,2),j=u[0],p=u[1],b=M({isTicking:s}),m=function(e){e.preventDefault();var t=s?Date.now():null;i(j,o,t),e.returnValue=""};return Object(O.useEffect)((function(){var e;if(s)return e=setInterval((function(){p((function(e){return e+1}))}),1e3),function(){clearInterval(e)}}),[s]),Object(O.useEffect)((function(){return window.addEventListener("beforeunload",m),function(){window.removeEventListener("beforeunload",m)}}),[]),Object(y.jsxs)(z.a,{className:b.listItem,divider:!0,style:{color:s?k.a[500]:"",backgroundColor:s?"rgba(213, 219, 156, 0.2)":""},children:[Object(y.jsx)(I.a,{primary:c,classes:{primary:b.listItemText}}),Object(y.jsx)(I.a,{primary:(t=j,[Math.floor(t/3600),Math.floor(t/60)%60,t%60].map((function(e){return e<10?"0"+e:e})).join(":")),className:b.listItemContainer}),Object(y.jsx)(N.a,{className:b.listItemContainer,children:Object(y.jsx)(h.a,{size:"small",onClick:function(){r(o)},children:s?Object(y.jsx)(A.a,{fontSize:"large"}):Object(y.jsx)(_.a,{fontSize:"large"})})}),Object(y.jsx)(N.a,{className:b.listItemContainer,children:Object(y.jsx)(h.a,{size:"small",onClick:function(){a(o)},children:Object(y.jsx)(L.a,{color:"secondary",fontSize:"large"})})})]})},B=Object(f.a)((function(e){return{container:{maxWidth:"560px",padding:"0 5px"},title:Object(c.a)({margin:"70px 0"},e.breakpoints.down("xs"),{margin:"40px 0"}),warning:{fontSize:"17px",textAlign:"center",padding:"20px"}}})),G=Object(o.b)((function(e){return{trackers:e.trackers}}),{addTracker:function(e){return{type:s,payload:{name:e}}},deleteTracker:function(e){return{type:l,payload:{id:e}}},saveTime:function(e,t,n){return{type:d,payload:{id:t,time:e,closedTime:n}}},toggleTracker:function(e){return{type:u,payload:{id:e}}}})((function(e){var t=e.trackers,n=e.addTracker,a=e.deleteTracker,r=e.saveTime,c=e.toggleTracker,o=B();return Object(y.jsxs)(j.a,{maxWidth:"lg",className:o.container,children:[Object(y.jsx)(p.a,{variant:"h1",align:"center",className:o.title,children:"tracker"}),Object(y.jsx)(E,{addTracker:n}),Object(y.jsxs)(b.a,{children:[Object(y.jsx)(m.a,{}),t.length?Object(i.a)(t).reverse().map((function(e){return Object(y.jsx)(W,{settings:e,remove:a,toggle:c,saveTime:r},e.id)})):Object(y.jsx)("p",{className:o.warning,children:"No trackers yet!"})]})]})})),V=n(24),J=n(48),P=Object(J.load)({namespace:"tracker"}),q=P&&P.trackers?P.trackers.map((function(e){var t=e.closedTime,n=Object(C.a)(e,["closedTime"]);if(t){var a=Math.floor((Date.now()-t)/1e3)+e.time;return Object(S.a)(Object(S.a)({},n),{},{time:a})}return e})):[],F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:var n={id:e.length?e.length:0,name:t.payload.name||"No name tracker #".concat(e.length?e.length+1:1),isTicking:!0,time:0};return[].concat(Object(i.a)(e),[n]);case u:return Object(i.a)(e).map((function(e){return e.id===t.payload.id?Object(S.a)(Object(S.a)({},e),{},{isTicking:!e.isTicking}):e}));case l:return Object(i.a)(e).filter((function(e){return e.id!==t.payload.id}));case d:return Object(i.a)(e).map((function(e){return e.id===t.payload.id?Object(S.a)(Object(S.a)({},e),{},{time:t.payload.time,closedTime:t.payload.closedTime}):e}));default:return e}},H=Object(V.c)({trackers:F}),Q=Object(V.d)(H,Object(V.a)(Object(J.save)({namespace:"tracker"})));r.a.render(Object(y.jsx)(o.a,{store:Q,children:Object(y.jsx)(G,{})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.d8c85a4f.chunk.js.map